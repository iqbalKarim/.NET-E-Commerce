<app-nav></app-nav>

<div class="container flex" style="margin-top: 75px" *ngIf="loggedIn">
  <ul class="navbar-nav marginR">
    <li class="nav-item category">
      <a class="nav-link" (click)="getAllProducts()">All</a>
    </li>
    <li class="nav-item category">
      <a class="nav-link" (click)="getProducts('laptops')">Laptops</a>
    </li>
    <li class="nav-item category">
      <a class="nav-link" (click)="getProducts('cellPhones')">CellPhones</a>
    </li>
    <li class="nav-item category">
      <a class="nav-link" (click)="getProducts('apparell')">Apparell</a>
    </li>
    <li class="nav-item category">
      <a class="nav-link" (click)="getProducts('electronics')">Electronics</a>
    </li>
  </ul>
  <ul>
    <li class="product" *ngFor="let product of products">
      <img src="{{ product.image }}" />
      <div class="productContent">
        <div class="price">{{ product.price }}&nbsp;TL</div>
        <h4>{{ product.productName }}</h4>
        <div>
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Nemo
          officiis quibusdam sunt, consequatur enim sapiente sequi iste?
          Temporibus odit, dignissimos architecto reiciendis ipsa quas, ad
          quibusdam voluptatum, ipsam nisi possimus.
        </div>
      </div>
    </li>
  </ul>
</div>

<div *ngIf="!loggedIn">
  <div class="container loginForm" style="margin-top: 75px">
    <div class="flex center">
      <form
        #loginForm="ngForm"
        class="flex"
        (ngSubmit)="login()"
        autocomplete="off"
      >
        <input
          class="form-control marginR"
          type="text"
          placeholder="Username"
          name="username"
          [(ngModel)]="model.userName"
        />
        <input
          class="form-control marginR"
          type="password"
          placeholder="Password"
          name="password"
          [(ngModel)]="model.password"
        />
        <button class="btn btn-outline-success" type="submit">Login</button>
      </form>
    </div>
    <h4 *ngIf="loginError">Error! Incorrect Credentials</h4>
  </div>

  <div class="registerForm">
    <h4>Don't have an account? Sign UP</h4>

    <form #registerForm="ngForm" (ngSubmit)="registerUser()" autocomplete="off">
      <div class="field">
        <div class="label">UserName</div>
        <div class="inputWidth">
          <input
            class="form-control marginR"
            type="text"
            placeholder="Username"
            name="username"
            [(ngModel)]="register.userName"
          />
        </div>
      </div>

      <div class="field">
        <div class="label">Password</div>
        <div class="inputWidth">
          <input
            class="form-control marginR"
            type="text"
            placeholder="Password"
            name="password"
            [(ngModel)]="register.password"
          />
        </div>
      </div>

      <button class="btn btn-outline-success register" type="submit">
        Register
      </button>
    </form>

    <h4 *ngIf="registerError == 1">Registration Error, please try again</h4>
    <h4 *ngIf="registerError == 2">
      Registration Successful, continue logging in
    </h4>
  </div>
</div>
